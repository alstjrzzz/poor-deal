<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.khao.PoorDeal.mapper.MemberMapper">

    <insert id="save" parameterType="com.khao.PoorDeal.domain.Member" 
            useGeneratedKeys="true" keyProperty="id" keyColumn="id">
        INSERT INTO MEMBERS (
            USER_ID, 
            PASSWORD, 
            USER_NAME, 
            EMAIL, 
            POINT, 
            ROLE
        ) VALUES (
            #{userId}, 
            #{password}, 
            #{userName}, 
            #{email}, 
            #{point}, 
            #{role}
        )
    </insert>

    <select id="findByUserId" parameterType="string"
            resultType="com.khao.PoorDeal.domain.Member">
        SELECT 
            id,
            user_id,
            password,
            user_name,
            email,
            point,
            role
        FROM MEMBERS
        WHERE USER_ID = #{userId}
    </select>
    
</mapper>